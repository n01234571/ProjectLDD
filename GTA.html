<!DOCTYPE html> 
<html>
<head> 
    <meta charset="UTF-8">
    <meta name="author" content="LDD">
    <meta name="keywords" content="HTML, CSS, Web Design">
    <meta name="description" content="LAB2">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel ="icon" href = "images/favicon.jpg" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <title>GTA</title>
    <style>
        table {
            border-collapse: collapse;
            width: 50%;
            margin: -70px auto; 
        }
    
        table, th, td {
            border: 1px solid black;
        }
    
        th, td {
            padding: 10px;
            text-align: center;
        }
    
        th {
            background-color: none;
        }
        table {
           border-collapse: collapse;
        }
   
       table, th, td {
           border: none;
        }

    </style>
</head>
<body>
    <div class = "wrapper">
        <header> 
            <nav class="navbar">
                <a href="#" class="nav-branding">
                    <img class="logo" src="images/logo.jpg" alt="logo">
                    <h1 class="logo-r">Greater</h1>
                    <h1 class="logo-r">Toronto</h1>
                    <h1 class="logo-r">Area</h1>
                </a>

                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="#" class="nav-link">Home</a></li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">News</a></li>
                    <li class="nav-item">
                        <a href="traffic.html" class="nav-link">Traffic</a>
                        <li class="nav-item">
                            <a href="#" class="nav-link" id="unitToggle">C/F</a>
                        </li>
                        
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
    </div>

            </nav>
        </header>
    </div>


    <div class="notification-container" id="notification-container">
        <div class="notification-text">
        This website collects cookies to deliver better user experience.
        </div>
        <div class="notification-buttons">
          <button id="acceptButton">Accept</button>
          <button id="rejectButton">Reject</button>
        </div>
      </div>

      
<div class="feedback-container" id="feedback-container">
    <div class="feedback-text">
      Do you enjoy using this website?
    </div>
    <div class="feedback-buttons">
      <button id="likeBtn">Yes</button>
      <button id="dislikeBtn">No</button>
    </div>
  </div>

<!-- diamonds code -->

<div class="weather-container">
    <h1 id="fordust">Weather Channel</h1>
    <div class="weather-icon">☀️</div>
    <div class="temperature" id="temperature">°C</div>
    <div class="location">Toronto ON</div>

    <div class="dropdown">
        <select id="cityDropdown" onchange="changeTemperature(this.value)">
            <option value="0">Toronto</option>
            <option value="3">Mississauga</option>
            <option value="5">Brampton</option>
            <option value="10">Markham</option>
            <option value="16">Vaughan</option>
            <option value="19">Richmond Hill</option>
            <option value="45">Oakville</option>
            <option value="33">Burlington</option>
        </select>
    </div>
</div>


<h2 class="forecast" style="color: black;">Canadian Forecast</h2>
<div style="height: 40px;"></div>

<table>
    <tr>
       <th>City</th>
       <th>Region</th>
   </tr>
   <tr>
       <td>Toronto</td>
       <td>City of Toronto</td>
   </tr>
   <tr>
       <td>Mississauga</td>
       <td>Peel Region</td>
   </tr>
   <tr>
       <td>Brampton</td>
       <td>Peel Region</td>
   </tr>
   <tr>
       <td>Markham</td>
       <td>York Region</td>
   </tr>
   <tr>
       <td>Vaughan</td>
       <td>York Region</td>
   </tr>
   <tr>
       <td>Richmond Hill</td>
       <td>York Region</td>
   </tr>
   <tr>
       <td>Oakville</td>
       <td>Halton Region</td>
   </tr>
   <tr>
       <td>Burlington</td>
       <td>Halton Region</td>
   </tr>
</table>
</div>
</body>

<!-- dustins code -->
<footer class="foot" id="footer">
    <div id="hiddenText" style="display: none;"><b>Menu</b></div>
    <div id="company" style="display: none;"><b>Company</b></div>
    <div id="info" style="display: none;"><b>Info</b></div>
    <div id ="access" style ="display: none;"><b>Accessibility</b></div>
    <a id ="dark" style ="display: none;">Dark Mode / Light Mode</a>
    <a id ="lang" style ="display: none;">CA/FR</a>
    <a id ="copy" style ="display: none;">© 2023 GTA WEATHER, Inc. "LDD" and banner designs are registered trademarks of LDD, Inc. All Rights Reserved.</a>

    <a id="companyAbout" href="test.com" style="display: none; color: white;">About Us</a>
    <a id="companyContact" href="test.com" style="display: none; color: white;">Contact Us</a>


    <p id="test">&#8595;</p>




</footer>



<div style="height: 500px;"></div>

<script>
    // dustins code gonna comment next to each thing

        // getting the element with the id "footer"
    var footer = document.getElementById("footer");

    // gettting the element with the id "hiddenText"
    var hiddenText = document.getElementById("hiddenText");

    // getting the element with the id "test"
    var test = document.getElementById("test");

    // getting the element with the id "company"
    var company = document.getElementById("company");

    // getting the element with the id "companyAbout"
    var companyAbout = document.getElementById("companyAbout");

    // getting the element with the id "companyContact"
    var companyContact = document.getElementById("companyContact");

    // getting the element with the id "access"
    var access = document.getElementById("access");

    // getting the element with the id "dark"
    var dark = document.getElementById("dark");

    // getting the element with the id "lang"
    var lang = document.getElementById("lang");

    // getting the element with the id "info"
    var copy = document.getElementById("info");

    // getting the element with the id "copy"
    var copy = document.getElementById("copy");

    // getting the element with the id "ratingContainer"
    var ratingContainer = document.getElementById("ratingContainer");

    // set the default color for diamonds weather container
    var defaultWeatherContainerColor = "#f0f0f0";

    // getting the element with the id "lang"
    var lang = document.getElementById("lang");

    // settign the default height for the footer as 40px
    var defaultFooterHeight = "40px";

    // boolean to check if footer has been expanded
    var isFooterExpanded = false;

    // boolean to check if language has been changed to french
    var isFrench = false;

    // boolean to check if theme has been changed to dark mode
    var isDarkMode = false;

    // array for cities in the GTA ( for translation use )
    var cities = ["Toronto", "Mississauga", "Brampton", "Markham", "Vaughan", "Richmond Hill", "Oakville", "Burlington"];

    // array for translation for regions in the GTA (for translation use)
    var regions = ["City of Toronto", "Peel Region", "Peel Region", "York Region", "York Region", "York Region", "Halton Region", "Halton Region"];

    // array for cities in the GTA ( translated )
    var frenchCities = ["Toronto", "Mississauga", "Brampton", "Markham", "Vaughan", "Richmond Hill", "Oakville", "Burlington"];

    // array for regions in the GTA ( translated )
    var frenchRegions = ["Ville de Toronto", "Région de Peel", "Région de Peel", "Région de York", "Région de York", "Région de York", "Région de Halton", "Région de Halton"];

    // getting the element with the class "forecast"
    var forecastText = document.querySelector(".forecast");

    // original forecast text to be translated
    var originalForecastText = "Canadian Forecast";

    // translated forecast text
    var frenchForecastText = "Prévision canadienne";

    // getting the element with the id "fordust"
    var titleText = document.getElementById("fordust");

    // original text inside weather container
    var originalTitleText = "Weather Channel";

    // translated text inside weather container
    var frenchTitleText = "Chaîne Météo";

    // getting all the elements with teh class nav-link
    var navLinks = document.querySelectorAll(".nav-link");

    // Define original navigation texts
    var originalNavTexts = ["Home", "News", "About Us", "C/F"];

    // Define French navigation texts
    var frenchNavTexts = ["Accueil", "Nouvelles", "À propos de nous", "C/F"];

    // Get the element with the id "notification-container"
    const notificationContainer = document.getElementById('notification-container');

    // Get the element with the id "acceptButton"
    const acceptButton = document.getElementById('acceptButton');

    // Get the element with the id "rejectButton"
    const rejectButton = document.getElementById('rejectButton');

    // Get the element with the id "feedback-container"
    const feedbackContainer = document.getElementById('feedback-container');

    // Get the element with the id "likeBtn"
    const likeBtn = document.getElementById('likeBtn');

    // Get the element with the id "dislikeBtn"
    const dislikeBtn = document.getElementById('dislikeBtn');

    // Generate a random delay between 100,000 and 200,000 milliseconds
    const delay = Math.floor(Math.random() * (200000 - 100000) + 100000);



    window.addEventListener("scroll", function () {
        var scrollHeight = window.innerHeight + window.scrollY;

        if (scrollHeight >= document.body.offsetHeight) {
            // if user scrolled the bottom
            if (!isFooterExpanded) {
            // Delayed display for each element
            setTimeout(function () {
                expandFooter(); // make da footer bigger when hit the bottom
            }, 0); // 0 milliseconds delay // 200 milliseconds delay

            setTimeout(function () {
                
                test.style.top = "10px";
                hiddenText.style.display = "block"; // show the text when hit
                company.style.display = "block"; // show the text when hit
                companyAbout.style.display = "block"; // show the text when hit
                companyContact.style.display = "block"; // show the text when hit
                access.style.display = "block";
                dark.style.display = "block";
                test.style.display = "none";
                info.style.display = "block";
                copy.style.display = "block";
                lang.style.display = "block";
            }, 200); 
            isFooterExpanded = true; // boolean for if statement
        }
        
        } else {
            // check to see if its at bottom
            if (isFooterExpanded) {
                footer.style.height = defaultFooterHeight; // Return to the default height
                test.style.top = "0"; 
                hiddenText.style.display = "none"; // hide the text
                company.style.display = "none"; // hide the text
                companyAbout.style.display = "none"; // hide the text
                access.style.display = "none";
                companyContact.style.display = "none"; // hide the text
                dark.style.display = "none";
                info.style.display = "none";
                test.style.display = "block";
                copy.style.display = "none";
                lang.style.display = "none";
                isFooterExpanded = false;
            }
        }
    });

    function expandFooter() {
        var targetHeight = 135;
        var currentHeight = parseInt(window.getComputedStyle(footer).height);

        function animate() {
            currentHeight += 40; // You can adjust the speed of expansion here
            footer.style.height = currentHeight + "px";

        if (currentHeight < targetHeight) {
            requestAnimationFrame(animate);
        } else {
            isFooterExpanded = true;
        }
    }

    animate();
    }

    function setWeatherContainerColor(color) {
        var weatherContainer = document.querySelector(".weather-container");
        weatherContainer.style.backgroundColor = color;
    }

    dark.addEventListener("click", function () {
    if (isDarkMode) {
        // switch to light mode
        document.body.style.backgroundColor = "rgb(235, 235, 235)";
        isDarkMode = false; 
        dark.style.display = "block"; // dark mode  hides when clicked 
        var tableCells = document.querySelectorAll("table td");
        var caforecast = document.getElementById("fordust2")
        caforecast.style.color = "black";
        for (var i = 0; i < tableCells.length; i++) {
            tableCells[i].style.color = "black";
        }
        var weatherContainer = document.querySelector(".weather-container");
        setWeatherContainerColor(defaultWeatherContainerColor);

    } else {
        // switch to dark mode
        document.body.style.backgroundColor = "black";
        dark.style.display = "block"; // dark mode  hides when clicked 
        isDarkMode = true;
        var caforecast = document.getElementById("fordust2")
        caforecast.style.color = "white";
        var tableCells = document.querySelectorAll("table td");
        for (var i = 0; i < tableCells.length; i++) {
            tableCells[i].style.color = "white";
        }
        var weatherContainer = document.querySelector(".weather-container");
        setWeatherContainerColor("lightgray");
    }
});

    lang.addEventListener("click", function () {
        var rows = document.querySelectorAll("table tr");

        if (isFrench) {
            // to englis
            for (var i = 1; i < rows.length; i++) {
                var cells = rows[i].getElementsByTagName("td");
                cells[0].textContent = cities[i - 1];
                cells[1].textContent = regions[i - 1];
            }
            forecastText.textContent = originalForecastText;
            titleText.textContent = originalTitleText;
            for (var i = 0; i < navLinks.length; i++) {
                navLinks[i].textContent = originalNavTexts[i];
            }
            lang.textContent = "CA/FR";
        } else {
            // to frenc
            for (var i = 1; i < rows.length; i++) {
                var cells = rows[i].getElementsByTagName("td");
                cells[0].textContent = frenchCities[i - 1];
                cells[1].textContent = frenchRegions[i - 1];
            }
            forecastText.textContent = frenchForecastText;
            titleText.textContent = frenchTitleText;
            for (var i = 0; i < navLinks.length; i++) {
                navLinks[i].textContent = frenchNavTexts[i];
            }
            lang.textContent = "FR/CA";
        }

        isFrench = !isFrench;
    });

    acceptButton.addEventListener('click', () => {
    notificationContainer.style.opacity = 1;
    notificationContainer.innerHTML = 'Thank you for supporting LDD!';
    setTimeout(() => {
      notificationContainer.style.opacity = 0;
      setTimeout(() => {
        notificationContainer.style.display = 'none';
      }, 500); 
    }, 2000);
    });
    rejectButton.addEventListener('click', () => {
        notificationContainer.style.display = 'none';
    });


    function showFeedbackBox() {
    feedbackContainer.style.display = 'block';
  }
    function hideFeedbackBox() {
    feedbackContainer.style.display = 'none';
  }

    function showFeedbackAfterRandomDelay() {
        setTimeout(() => {
            showFeedbackBox();
        }, delay);
  }

    showFeedbackAfterRandomDelay();

    likeBtn.addEventListener('click', () => {
    hideFeedbackBox();
  });

    dislikeBtn.addEventListener('click', () => {
    hideFeedbackBox();

  });
    
</script>

<script src="script.js"></script>
</footer>
</html> 
